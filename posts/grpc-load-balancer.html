<html>

<head>
  <title>gRPC Load balancing (1) | Linh tinh</title>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html;">
  <meta name=viewport content="initial-scale=1.0 maximum-scale=1.0">
  <meta property='og:image' content='https://melancholy.com/img/default.jpg'>
  <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
  <link rel="manifest" href="../manifest.json">
  <link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">
  <link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin-ext,vietnamese"
    rel="stylesheet">
  <!-- <link href="../css/theme.css?t=" rel="stylesheet" type="text/css"> -->
  <link href="/css/theme.css" rel="stylesheet" type="text/css">
  <!-- <link href="/css/gruvbox-dark.css" rel="stylesheet" type="text/css"> -->
  <link rel="stylesheet" href="../css/highlight/tomorrow.css">
  <link rel="stylesheet" href="../css/fontello.css">
  <link rel="stylesheet" href="../emoji/css/emoji.dist.css">
  <link rel="stylesheet" href="../emoji/css/emojione.min.css">
  <link rel="stylesheet" href="../emoji/css/messenger.min.css">
  <link rel="stylesheet" href="../emoji/css/thinking.ext.css">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css"> -->
  <script src="../js/highlight.min.js"></script>
  <script src="../js/autosizing.js"></script>
  <script src="../js/fetch.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
    hljs.highlightAll();
  </script>
</head>

<body>
  <div class="header">
    <a href="/"><span class="avatar"></span><span class="header-link">Linh tinh</span></a>
  </div>
  <div class="container">
    <div class="main">
      <p><a href="/">&lt;- Quay vá» trang chá»§</a></p>
      <h1>gRPC Load balancing (1)</h1>
      <p>Khi thá»‹ trÆ°á»ng cÃ³ xu hÆ°á»›ng chuyá»ƒn dáº§n tá»« monolithic sang microservice, bÃ i toÃ¡n giao tiáº¿p giá»¯a cÃ¡c service trá»Ÿ nÃªn ráº¥t quan trá»ng, vá»›i nhá»¯ng service thÃ´ng thÆ°á»ng hiá»‡n nay, mÃ¬nh tháº¥y cÃ³ 3 cÃ¡ch giao tiáº¿p phá»• biáº¿n:</p>
<ul>
<li><code>REST APIs</code></li>
<li><code>gRPC</code></li>
<li><code>Message queue</code></li>
</ul>
<p>Khi triá»ƒn khai há»‡ thá»‘ng cáº§n xá»­ lÃ½ má»™t lÆ°á»£ng táº£i lá»›n, má»—i loáº¡i service sáº½ cáº§n pháº£i cháº¡y ráº¥t nhiá»u instance, váº­y bÃ i toÃ¡n Ä‘áº·t ra lÃ m tháº¿ nÃ o Ä‘á»ƒ chia táº£i giá»¯a cÃ¡c instance? Äá»™ hiá»‡u quáº£ cÅ©ng nhÆ° chi phÃ­ cÃ i Ä‘áº·t, báº£o trÃ¬ nhÆ° tháº¿ nÃ o? PhÆ°Æ¡ng phÃ¡p Ã¡p dá»¥ng cho má»—i protocol cÃ³ khÃ¡c nhau khÃ´ng?</p>
<p>Äá»ƒ tráº£ lá»i nhá»¯ng cÃ¢u há»i trÃªn, mÃ¬nh sáº½ viáº¿t má»™t chuá»—i bÃ i tÃ¬m hiá»ƒu vá» cÃ¢n báº±ng táº£i gRPC vÃ  cÃ¡c phÆ°Æ¡ng phÃ¡p hiá»‡n thá»±c trong thá»±c táº¿. ThÃ´ng qua chuá»—i bÃ i viáº¿t nÃ y, má»¥c tiÃªu Ä‘Æ°á»£c Ä‘áº·t ra lÃ  mÃ¬nh vÃ  báº¡n Ä‘á»c sáº½ hiá»ƒu rÃµ vÃ  váº­n dá»¥ng Ä‘Æ°á»£c nhá»¯ng kiáº¿n thá»©c cÃ¢n báº±ng táº£i gRPC dá»± Ã¡n thá»±c táº¿, cá»¥ thá»ƒ:</p>
<ul>
<li>Hiá»ƒu lÃ½ thuyáº¿t cÃ¢n báº±ng táº£i.</li>
<li>Hiá»ƒu phÆ°Æ¡ng phÃ¡p cÃ¢n báº±ng táº£i á»Ÿ <code>transport layer</code> vÃ  <code>application layer</code>.</li>
<li>Thiáº¿t láº­p vÃ  kiá»ƒm thá»­ cÃ¡c phÆ°Æ¡ng phÃ¡p cÃ¢n báº±ng táº£i gRPC.</li>
</ul>
<h2><a href="#phÆ°Æ¡ng-phÃ¡p" aria-hidden="true" class="anchor" id="phÆ°Æ¡ng-phÃ¡p"></a>PhÆ°Æ¡ng phÃ¡p</h2>
<p>Hiá»‡n táº¡i cÃ³ má»™t vÃ i phÆ°Æ¡ng phÃ¡p phá»• biáº¿n Ä‘á»ƒ xá»­ lÃ½ cÃ¢n báº±ng táº£i cho grPC:</p>
<ul>
<li><strong>Proxy load balancing</strong>: lÃ  phÆ°Æ¡ng phÃ¡p truyá»n thá»‘ng, LB sáº½ Ä‘Ã³ng vai trÃ² nhÆ° má»™t reverse proxy, HAProxy, Nginx, LB cá»§a cloud provider,... lÃ  cÃ¡c vÃ­ dá»¥.</li>
<li><strong>Client side load balancing</strong>: phÃ­a client chá»§ Ä‘á»™ng quáº£n lÃ½ connection cÅ©ng nhÆ° cÆ¡ cháº¿ load balancing, cÃ³ thá»ƒ tá»± custom hoÃ n toÃ n dá»±a trÃªn cÃ¡c specification cá»§a gRPC hoáº·c káº¿t há»£p vá»›i ZooKeeper/Etcd/Consul,...</li>
<li><strong>Look-aside load balancing</strong>: cÃ³ má»™t external load balancing component chá»‹u trÃ¡ch nhiá»‡m quáº£n lÃ½ cÃ¡c servers (service discovery) vÃ  tráº£ lá»i thÃ´ng tin cho client má»—i khi Ä‘Æ°á»£c yÃªu cáº§u.</li>
<li><strong>Service mesh</strong>: chá»‹u trÃ¡ch nhiá»‡m hiá»‡n thá»±c service discovery vÃ  cÃ¢n báº±ng táº£i: <code>Istio + Envoy proxy</code>,...</li>
</ul>
<p>Má»—i phÆ°Æ¡ng phÃ¡p sáº½ cÃ³ Æ°u nhÆ°á»£c Ä‘iá»ƒm riÃªng cÅ©ng nhÆ° chi phÃ­ cÃ i Ä‘áº·t, báº£o trÃ¬ khÃ¡c nhau.</p>
<p>Tuy nhiÃªn, trÆ°á»›c háº¿t hÃ£y cÃ¹ng mÃ¬nh tÃ¬m hiá»ƒu má»™t sá»‘ kiáº¿n thá»©c cÆ¡ báº£n cáº§n náº¯m rÃµ nhÆ° <code>HTTP/2</code>, <code>long-lived TCP connection</code>,...</p>
<h3><a href="#http2" aria-hidden="true" class="anchor" id="http2"></a>HTTP/2</h3>
<p><code>HTTP/2</code> cho phÃ©p client vÃ  server gá»­i/nháº­n cÃ¹ng lÃºc nhiá»u request/response trÃªn cÃ¹ng 1 TCP connection (<code>multiplexing</code>), phÃ¢n biá»‡t vá»›i nhau dá»±a trÃªn <code>logical stream</code>.</p>
<p><img src="img/http2.png" alt="http/2" /></p>
<p><code>HTTP/2</code> ra Ä‘á»i giáº£n quyáº¿t váº¥n Ä‘á» <a href="https://en.wikipedia.org/wiki/Head-of-line_blocking">head-of-line_blocking</a> cá»§a <code>HTTP/1.1</code>, á»Ÿ phiÃªn báº£n cÅ©, máº·c dÃ¹ chÃºng ta cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng connection, nhÆ°ng nhá»¯ng requests Ä‘Æ°á»£c xá»­ lÃ½ tuáº§n tá»±, cÃ³ thá»ƒ gÃ¢y hiá»‡n tÆ°á»£ng tháº¯t cá»• chai náº¿u cÃ³ nhiá»u request trÃªn cÃ¹ng 1 connection.</p>
<p>Vá»›i tÃ­nh cháº¥t nÃ y, náº¿u khÃ´ng cÃ³ yÃªu cáº§u gÃ¬ Ä‘áº·c biá»‡t, chÃºng ta sáº½ cÃ³ nhu cáº§u tÃ¡i sá»­ dá»¥ng connection cá»§a <code>HTTP/2</code> Ä‘á»ƒ giáº£m thiá»ƒu chi phÃ­ khá»Ÿi táº¡o connection, do Ä‘Ã³, <code>TCP connection</code> trong <code>HTTP/2</code> sáº½ lÃ  <code>long-lived connection</code>.</p>
<h2><a href="#grpc-load-balancing" aria-hidden="true" class="anchor" id="grpc-load-balancing"></a>gRPC load balancing</h2>
<h3><a href="#load-balancer-as-proxy" aria-hidden="true" class="anchor" id="load-balancer-as-proxy"></a>Load balancer as proxy</h3>
<p><em><strong>Transport layer (layer 4)</strong></em></p>
<p>Khi cÃ¢n báº±ng táº£i á»Ÿ táº§ng <code>transport</code>, LB sáº½ lÃ m viá»‡c vá»›i cÃ¡c gÃ³i tin TCP, má»™t khi client khá»Ÿi táº¡o connection tá»›i LB, nÃ³ sáº½ táº¡o 1 connection tÆ°Æ¡ng á»©ng Ä‘áº¿n má»™t backend server rá»“i chuyá»ƒn tiáº¿p táº¥t cáº£ gÃ³i tin dá»±a trÃªn sá»± Ã¡nh xáº¡ nÃ y, sá»± Ã¡nh xáº¡ nÃ y sáº½ Ä‘Æ°á»£c giá»¯ cho Ä‘áº¿n khi connection bá»‹ Ä‘Ã³ng, tá»« tá»•ng thá»ƒ, 2 connection Ä‘Æ°á»£c táº¡o ra cÃ³ thá»ƒ Ä‘Æ°á»£c xem lÃ  1 <code>persistent connection</code>.</p>
<p><img src="img/grpc-connection-load-balancing.png" alt="grpc-connection-load-balancing" /></p>
<p>Do tÃ­nh cháº¥t <code>persistent connection</code>, LB sáº½ cÃ¢n báº±ng táº£i cho quÃ¡ trÃ¬nh thiáº¿t láº­p connection, má»™t khi connection Ä‘Ã£ Ä‘Æ°á»£c táº¡o, táº¥t cáº£ request sáº½ Ä‘Æ°á»£c gá»­i thÃ´ng nÃ³, mÃ¬nh gá»i nÃ³ lÃ  <code>connection-based load balancing</code>. á» vÃ­ dá»¥ nhÆ° hÃ¬nh trÃªn, náº¿u client chá»‰ táº¡o 1 connection thÃ¬ sáº½ gÃ¢y ra hiá»‡n tÆ°á»£ng <code>server instance 2</code> hoáº·c <code>server instance 3</code> á»Ÿ tráº¡ng thÃ¡i <code>&quot;thÆ° giÃ£n&quot;</code>.</p>
<!-- Tuy nhiÃªn, váº¥n Ä‘á» xuáº¥t hiá»‡n vÃ¬ tÃ­nh cháº¥t `long-lived` nÃ y, khi LB táº¡o connection tá»›i má»™t backend server, táº¥t cáº£ nhá»¯ng requests sau Ä‘Ã³ sáº½ Ä‘Æ°á»£c gá»­i Ä‘áº¿n `server instance 1`, 2 servers cÃ²n láº¡i sáº½ ngá»“i chÆ¡i. Khi táº¡o má»›i má»™t connection khÃ¡c, tuá»³ vÃ o thuáº­t toÃ¡n `load balancing` á»Ÿ LB, connection má»›i cÃ³ thá»ƒ sáº½ tá»›i `server instance 2` hoáº·c `server instance 3`. Váº­y báº¡n cÃ³ thá»ƒ tháº¥y, dÃ¹ cho LB load balance á»Ÿ `layer 4` hay `layer 7` thÃ¬ kiá»ƒu load balancing nÃ y lÃ  `connection-based load balancing`. -->
<p>Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng kÄ© thuáº­t <code>pooling</code> á»Ÿ phÃ­a client, má»¥c Ä‘Ã­ch lÃ  táº¡o nhiá»u connections thÃ´ng qua LB vÃ  sá»­ dá»¥ng chÃºng Ä‘á»ƒ gá»­i request. Khi pool Ä‘Æ°á»£c táº¡o:</p>
<ul>
<li>Táº¥t cáº£ connections sáº½ Ä‘Æ°á»£c LB phÃ¢n táº£i dá»±a trÃªn thuáº­t toÃ¡n Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh.</li>
<li>Client sáº½ thá»±c hiá»‡n chia táº£i <strong>tá»«ng request</strong> trÃªn <strong>tá»«ng connection</strong> á»Ÿ trong pool.</li>
</ul>
<p>Tuy nhiÃªn, chi phÃ­ Ä‘á»ƒ hiá»‡n thá»±c á»Ÿ phÃ­a client sáº½ cao hÆ¡n vÃ¬ cÃ¡c lÃ½ do:</p>
<ul>
<li>Quáº£n lÃ½ pool</li>
<li>CÃ¢n báº±ng táº£i requests dá»±a vÃ o connection á»Ÿ trong pool.</li>
<li>Phá»¥ thuá»™c vÃ o ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Æ°á»£c sá»­ dá»¥ng.</li>
</ul>
<p><img src="img/grpc-loadbalacning-lb-proxy.png" alt="grpc-loadbalacning-lb-proxy" /></p>
<p><em><strong>Äiá»u gÃ¬ sáº½ xáº£y ra khi scale server?</strong></em></p>
<p>Khi má»™t server má»›i Ä‘Æ°á»£c thÃªm vÃ o cá»¥m backend, náº¿u pool á»Ÿ client cá»§a chÃºng ta Ä‘Ã£ Ä‘áº¡t Ä‘áº¿n sá»‘ connection tá»‘i Ä‘a thÃ¬ cÃ¡ch lÃ m nÃ y gáº·p váº¥n Ä‘á» lá»›n, sáº½ khÃ´ng cÃ³ connection má»›i nÃ o Ä‘Æ°á»£c khá»Ÿi táº¡o Ä‘áº¿n server má»›i vÃ  dáº«n Ä‘áº¿n sá»± quÃ¡ táº£i á»Ÿ cÃ¡c server Ä‘ang cÃ³, dáº«n Ä‘áº¿n sáº­p server náº¿u sá»‘ lÆ°á»£ng request tÄƒng. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, chÃºng ta cáº§n cÃ³ cÆ¡ cháº¿ refresh pool, má»—i connection trong pool sáº½ cÃ³ 1 thá»i gian sá»‘ng nháº¥t Ä‘á»‹nh, client sáº½ cháº¡y 1 job Ä‘á»ƒ refresh pool theo cÆ¡ cháº¿ nhÆ°:</p>
<ul>
<li>ÄÃ³ng nhá»¯ng connection Ä‘Ã£ háº¿t thá»i gian sá»‘ng.</li>
<li>ÄÃ³ng nhá»¯ng connection bá»‹ lá»—i.</li>
<li>Khá»Ÿi táº¡o connection má»›i thÃ´ng qua LB.</li>
</ul>
<p>Äiá»u nÃ y Ä‘áº£m báº£o connection sáº½ Ä‘Æ°á»£c chia táº£i Ä‘á»u Ä‘áº¿n cÃ¡c server, tuy nhiÃªn chÃºng ta cáº§n tÃ­nh toÃ¡n kÄ© nhá»¯ng sá»‘ liá»‡u trÃªn dá»±a trÃªn Ä‘áº·c Ä‘iá»ƒm chá»‹u táº£i cá»§a tá»«ng service, viá»‡c nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c lÃ m thÃ´ng qua quÃ¡ trÃ¬nh <code>benchmark</code> há»‡ thá»‘ng.</p>
<!-- ### Layer 7 -->
<p><em><strong>Application layer (layer 7)</strong></em></p>
<p>Khi LB hoáº¡t Ä‘á»™ng á»Ÿ táº§ng <code>application</code>, nÃ³ sáº½ sá»­ dá»¥ng cÃ¡c thÃ´ng tin vá» request Ä‘á»ƒ cÃ¢n báº±ng táº£i, cÅ©ng vá»›i vÃ­ dá»¥ client táº¡o 1 connection tá»›i LB nhÆ° á»Ÿ trÃªn rá»“i gá»­i requests, lÃºc nÃ y LB sáº½ cÃ¢n báº±ng táº£i tá»«ng request má»™t tá»›i cÃ¡c backend server dá»±a trÃªn cÃ¡c thuáº­t toÃ¡n Ä‘Æ°á»£c cáº¥u hÃ¬nh.</p>
<p><img src="img/grpc-loadbalacning-L7.png" alt="/grpc-loadbalacning-L7" /></p>
<p>á» táº§ng <code>application</code>, LB sá»­ dá»¥ng Ä‘Æ°á»£c nhiá»u thÃ´ng tin hÆ¡n Ä‘á»ƒ cÃ¢n báº±ng táº£i, do Ä‘Ã³ cÃ³ thá»ƒ há»— trá»£ cÃ¡c thuáº­t toÃ¡n cÃ¢n báº±ng táº£i phá»©c táº¡p. Tuy nhiÃªn, vÃ¬ cáº§n pháº£i xem ná»™i dung cá»§a request, hiá»‡u nÄƒng lÃºc nÃ y sáº½ giáº£m xuá»‘ng so vá»›i trÆ°á»ng há»£p LB hoáº¡t Ä‘á»™ng á»Ÿ táº§ng <code>transport</code>.</p>
<p><em><strong>KhÃ´ng sá»­ dá»¥ng load balancer?</strong></em></p>
<p>Äá»‘i vá»›i nhá»¯ng há»‡ thá»‘ng yÃªu cáº§u kháº¯t khe vá» hiá»‡u nÄƒng, sá»­ dá»¥ng load balancer cÃ³ láº½ khÃ´ng pháº£i lÃ  giáº£i phÃ¡p tá»‘t. Client cÃ³ má»™t lá»£i tháº¿ khi sá»­ dá»¥ng <code>load balancer</code> lÃ  nÃ³ khÃ´ng cáº§n pháº£i quan tÃ¢m Ä‘áº¿n Ä‘á»‹a chá»‰ IP cá»¥ thá»ƒ cá»§a backend hay nhá»¯ng thá»© khÃ¡c liÃªn quan Ä‘áº¿n háº¡ táº§ng, táº¥t cáº£ nhá»¯ng thá»© nÃ³ cáº§n pháº£i biáº¿t lÃ  Ä‘á»‹a chá»‰ cá»§a load balancer, náº¿u chÃºng ta khÃ´ng sá»­ dá»¥ng load balancer, má»™t váº¥n Ä‘á» má»›i xuáº¥t hiá»‡n, <strong>lÃ m tháº¿ nÃ o Ä‘á»ƒ client vÃ  server tÃ¬m tháº¥y nhau?</strong></p>
<p>ÄÃ¢y lÃ  cÃ¢u há»i kinh Ä‘iá»ƒn gáº¯n liá»n vá»›i thuáº­t ngá»¯ <code>service discovery</code>, cÃ³ má»™t service thá»© 3 Ä‘á»©ng ra lÃ m cáº§u ná»‘i giá»¯a client vÃ  server, service nÃ y lÆ°u thÃ´ng tin cá»§a server vÃ  tráº£ lá»i má»—i khi client há»i hoáº·c chá»§ Ä‘á»™ng thÃ´ng bÃ¡o má»—i khi cÃ³ sá»± thay Ä‘á»•i. Khi client cÃ³ Ä‘Æ°á»£c Ä‘á»‹a chá»‰ cá»§a cÃ¡c server thÃ´ng qua service thá»© 3 nÃ y, nÃ³ sáº½ khá»Ÿi táº¡o connection trá»±c tiáº¿p Ä‘áº¿n cÃ¡c server vÃ  <strong>chia táº£i request</strong> trÃªn cÃ¡c connection nÃ y, viá»‡c load balancing Ä‘Ã£ trá»Ÿ thÃ nh <code>client-side load balacing</code>, <code>gRPC client</code> Ä‘ang Ä‘áº£m nhiá»‡m viá»‡c cÃ¢n báº±ng táº£i, khi mÃ¬nh nÃ³i Ä‘áº¿n <code>gRPC client</code>, tá»©c lÃ  viá»‡c xá»­ lÃ½ nÃ y sáº½ Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi <code>gRPC</code>, láº­p trÃ¬nh viÃªn khÃ´ng cáº§n hiá»‡n thá»±c thÃªm gÃ¬.</p>
<p><img src="img/grpc-service-discovery.png" alt="grpc-service-discovery" /></p>
<p>Ã tÆ°á»Ÿng nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c hiá»‡n thá»±c thÃ´ng qua nhiá»u mÃ´ hÃ¬nh:</p>
<ul>
<li>Service mesh by <code>Istio + Envoy proxy</code>:
<ul>
<li>control plane: <code>service discovery</code>, cáº¥u hÃ¬nh load balancing policy.</li>
<li>data plance: Envoy proxy cÃ¢n báº±ng táº£i dá»±a trÃªn cÃ¡c thÃ´ng tin Ä‘Æ°á»£c cáº¥u hÃ¬nh á»Ÿ <code>control plance</code>.</li>
</ul>
</li>
<li><a href="https://github.com/grpc/proposal/blob/master/A27-xds-global-load-balancing.md">xDS API</a>: <code>look-aside</code> load balancing, <code>gRPC client</code> há»— trá»£ viá»‡c sá»­ dá»¥ng xDS API cá»§a Envoy thÃ´ng qua <code>resolver</code> vÃ  <code>LB plugin</code>, <code>resolver</code> vÃ  <code>LB plugin</code> sáº½ cáº§n tÆ°Æ¡ng tÃ¡c vá»›i má»™t <code>xDS server</code>.</li>
</ul>
<p>Äá»ƒ tÄƒng hiá»‡u nÄƒng cÅ©ng nhÆ° throughput vá» máº·t sá»‘ lÆ°á»£ng request, chÃºng ta cÅ©ng cÃ³ thá»ƒ Ã¡p dá»¥ng kÄ© thuáº­t pooling á»Ÿ phÃ­a client cho phÆ°Æ¡ng phÃ¡p nÃ y.</p>
<h2><a href="#tá»•ng-káº¿t" aria-hidden="true" class="anchor" id="tá»•ng-káº¿t"></a>Tá»•ng káº¿t</h2>
<p>á» bÃ i viáº¿t nÃ y, mÃ¬nh Ä‘Ã£ phÃ¢n tÃ­ch Ã½ tÆ°á»Ÿng load balancing grpc, cÃ³ 2 Ä‘iá»u cáº§n hiá»ƒu rÃµ Ä‘á»ƒ trÃ¡nh mÆ¡ há»“ trong lÃºc hiá»‡n thá»±c cÃ¡c phÆ°Æ¡ng phÃ¡p nÃ y:</p>
<ul>
<li><code>connection-based load balancing:</code> chia táº£i tá»«ng connection Ä‘áº¿n tá»«ng backend server, nhá»¯ng connection nÃ y cÃ³ tÃ­nh cháº¥t <code>long-lived</code>.</li>
<li><code>request-based load balancing:</code> chia táº£i tá»«ng request Ä‘áº¿n tá»«ng connection, cÃ³ thá»ƒ hiá»ƒu chia táº£i á»Ÿ táº§ng á»©ng dá»¥ng.</li>
</ul>
<p>á» cÃ¡c bÃ i tiáº¿p theo, mÃ¬nh sáº½ Ä‘i vÃ o hiá»‡n thá»±c vÃ  kiá»ƒm thá»­ cÃ¡c phÆ°Æ¡ng phÃ¡p cÃ¢n báº±ng táº£i gRPC Ä‘á»ƒ lÃ m rÃµ hÆ¡n pháº§n lÃ½ thuyáº¿t nÃ y.</p>
<h2><a href="#tham-kháº£o" aria-hidden="true" class="anchor" id="tham-kháº£o"></a>Tham kháº£o</h2>
<ul>
<li><a href="https://grpc.io/blog/grpc-load-balancing/">gRPC Load Balancing</a></li>
<li><a href="https://phuc-ch.medium.com/exploring-grpc-load-balancing-gateway-service-mesh-and-xds-with-go-a527ab0e7ce8">Exploring gRPC Load Balancing: Gateway, Service Mesh, and xDS with Go</a></li>
<li><a href="https://arpittech.medium.com/grpc-and-connection-pooling-49a4137095e7">GRPC and Connection Pooling</a></li>
</ul>

      <div class='other-tags'><b>Tags:</b> <a class='topic-tag' href='/tags/networking.html'>networking</a><a class='topic-tag' href='/tags/gRPC.html'>gRPC</a></div>
      <!-- <div class="copyright">
                Báº¡n Ä‘Æ°á»£c toÃ n quyá»n chia sáº», trÃ­ch dáº«n hoáº·c copy, post láº¡i, nhÆ°ng vui lÃ²ng ghi rÃµ nguá»“n, tÃ¡c giáº£ vÃ  khÃ´ng lÃ m thay Ä‘á»•i ná»™i dung bÃ i viáº¿t. Náº¿u khÃ´ng lÃ m váº­y, thÃ¬ OK, cÅ©ng ko sao, sáº½ cÃ³ thiÃªn lÃ´i thay ta dÃ²m ngÃ³ nhÃ  ngÆ°Æ¡i. ğŸ˜ˆ
                </div> -->
    </div>
  </div>
  <div class="footer">
    <p>Created with <i class="em em-coffee"></i> <a href="http://github.com/huytd/ristretto-rs">ristretto.rs</a></p>
    <div class="social">
      <a target="_blank" href="https://github.com/dntam00"><i class="icon-github-squared"></i></a>
      <a target="_blank" href="https://www.linkedin.com/in/dang-ngoc-tam/"><i class="icon-linkedin-squared"></i></a>
    </div>
  </div>
  <script type="text/javascript" async=""
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ["script","noscript","style","textarea", "code"],
            ignoreClass: ["comment", "comment-list"]
          }
        });
  </script>
</body>

</html>